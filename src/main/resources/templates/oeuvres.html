<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template">
<head>
    <meta charset="UTF-8" />
    <title>Oeuvres</title>
    <style>th, td { text-align: center; }</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.3/css/bulma.min.css" />
</head>
<body>
<section layout:fragment="custom-content">
    <div class="container">
        <p class="title">Gestion des oeuvres</p>
        <p title="has-text-danger"> La suppression n'a lieu que si aucun exemplaire lié à l'oeuvre n'est présent. </p>
        <form th:action="@{/oeuvres/create}" th:method="get">
            <div class="field" style="margin-bottom: 2.5%">
                <div class="control">
                    <button class="button is-primary">Ajouter une nouvelle oeuvre</button>
                </div>
            </div>
        </form>
        <div th:action="@{/oeuvres}" method="get">
            <table class="table table-striped table-bordered" cellspacing="0">
                <thead>
                <tr>
                    <th>Titre</th>
                    <th>Auteur</th>
                    <th>Type</th>
                    <th>Modifier</th>
                    <th>Supprimer</th>
                </tr>
                </thead>
                <tbody>
                <tr class="odd" role="row" th:each="o:${oeuvres}" th:id="${o.idOeuvre}">
                    <td th:text="${o.titre}"></td>
                    <td th:text="${o.auteur}"></td>
                    <td th:text="${o.type}"></td>
                    <td>
                        <form th:action="@{/oeuvres/__${o.idOeuvre}__/edit}" th:method="get">
                            <div class="field">
                                <div class="control">
                                    <button class="button is-danger" type="submit">Modifier</button>
                                </div>
                            </div>
                        </form>
                    </td>
                    <td>
                        <form th:action="@{/oeuvres/__${o.idOeuvre}__}" th:method="delete">
                            <div class="field">
                                <div class="control">
                                    <button class="button is-black" type="submit">Supprimer</button>
                                </div>
                            </div>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
</body>
</html>